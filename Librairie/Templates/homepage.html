{% from "macro.html" import show_article %}

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My website</title>
    <link rel="stylesheet" href="../static/homepage.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
    <header class="header">
        <a href="#" class="logo">Logo</a>

        <input type="checkbox" id="check">

        <label for="check" class="icons">
            <i class='bx bx-menu' id="menu-icon"></i>
            <i class='bx bx-x' id="close-icon"></i>
        </label>

        <nav class="navbar">
            <a href="#" style="--i:0;">Home</a>
            <a href="#" style="--i:1;">About</a>
            <a href="#" style="--i:2;">Gallery</a>
            <a href="#" style="--i:3;">Services</a>
            <a href="#" style="--i:4;">Contact</a>
        </nav>
    </header>

    <div class="feed-container">
        {% for article in articles %}
        {{ show_article(article.id, article.author_username, article.title, article.date, article.content, article.theme, article.likes, article.dislikes, article) }}
        <div class="comment-form-container" id="comment-form-{{ article.id }}">
            <form method="post" action="/post_comment" onsubmit="postComment(event, {{ article.id }})">
                <textarea name="comment" placeholder="Write your comment" required></textarea>
                <input type="hidden" name="article_id" value="{{ article.id }}">
                <button type="submit">Post Comment</button>
            </form>
        </div>
        {% endfor %}
    </div>
    
    <script>
        function toggleCommentForm(articleId) {
            const form = document.getElementById(`comment-form-${articleId}`);
            if (form.style.display === "none") {
                form.style.display = "block";
            } else {
                form.style.display = "none";
            }
        }
    </script>

</body>
</html>

